/* ===========================
   ROOT + GLOBAL
   =========================== */
:root{
  --bg:#f3f6f9;
  --panel:#ffffff;
  --border:rgba(148,163,184,.25);
  --text:#0f172a;
  --muted:#64748b;
  --green:#059669;
  --green-dark:#047857;

  --radius-lg:18px;
  --radius-md:14px;

  /* SCORE TABLE SIZING (KEY FIXES) */
  --col-player: 160px;
  --col-hdcp: 64px;
  --col-hole: 44px;
  --col-total: 72px;

  --shadow: 0 16px 36px rgba(15,23,42,.12);
  --shadow-soft: 0 10px 22px rgba(15,23,42,.08);
  --focus: rgba(5,150,105,.25);
}

*{ box-sizing:border-box; }

html, body{
  margin:0;
  padding:0;
  height:100%;
  font-family: system-ui,-apple-system,Segoe UI,Roboto,sans-serif;
  background: var(--bg);
  color: var(--text);
}

/* ===========================
   BASE TABLE SAFETY
   =========================== */
table{
  border-collapse: separate;
  border-spacing: 0;
}

/* ===========================
   MAIN CONTAINER
   =========================== */
main{
  max-width: 1200px;
  margin: 1.25rem auto;
  padding: 1.25rem;
  background: var(--panel);
  border-radius: 22px;
  border: 1px solid var(--border);
  box-shadow: var(--shadow);
}

/* ===========================
   BUTTONS
   =========================== */
button{
  border: none;
  border-radius: 999px;
  padding: .55rem .95rem;
  font-size: .9rem;
  font-weight: 700;
  background: var(--green);
  color: white;
  cursor: pointer;
}
button.secondary{
  background: #e5e7eb;
  color: var(--text);
}

/* ===========================
   CARDS
   =========================== */
.round-card{
  background: white;
  border-radius: var(--radius-lg);
  border:1px solid var(--border);
  padding: .95rem 1rem;
  margin-bottom: 1rem;
  box-shadow: var(--shadow-soft);
  overflow: hidden;
}

/* ===========================
   FRONT / BACK TOGGLE
   =========================== */
.holes-toggle{
  display:flex;
  gap:.5rem;
  margin: .5rem 0 .75rem;
}
.holes-toggle button{
  background:#e5e7eb;
  color:#065f46;
}
.holes-toggle button.is-active{
  background:var(--green);
  color:white;
}

/* ===========================
   SCORE TABLE SCROLL WRAP
   =========================== */
.round-card .table-scroll{
  width:100%;
  overflow-x:auto;
  overflow-y:hidden;
  -webkit-overflow-scrolling:touch;
  border-radius:14px;
  border:1px solid var(--border);
  background:#fff;
}

/* ===========================
   SCORE TABLE CORE
   =========================== */
.round-card .score-table{
  table-layout: fixed;
  width: max-content;     /* critical */
  min-width: 100%;
  border-collapse: separate;
  border-spacing: 0;
  font-size:.85rem;
}

/* ===========================
   HEADERS
   =========================== */
.score-table thead th{
  background:#f0fdf4;
  color:#065f46;
  font-weight:800;
  padding:8px;
  border-bottom:1px solid var(--border);
  position: sticky;
  top: 0;
  z-index: 30;
}

/* Group headers (Front / Back / Totals) */
.score-table .nine-group{
  background:#eef2f7;
  font-weight:900;
  text-align:center;
}

/* ===========================
   CELLS
   =========================== */
.score-table td{
  padding:6px;
  border-bottom:1px solid rgba(148,163,184,.18);
  text-align:center;
  background:#fff;
}

/* Zebra rows (players only) */
.score-table tbody tr:nth-child(even):not(.meta-row) td{
  background:#f8fafc;
}

/* ===========================
   STICKY PLAYER + HDCP
   =========================== */
.score-table th:nth-child(1),
.score-table td:nth-child(1){
  position: sticky;
  left: 0;
  width: var(--col-player);
  min-width: var(--col-player);
  max-width: var(--col-player);
  text-align:left;
  padding-left:12px;
  font-weight:800;
  background:#fff;
  z-index: 40;
}

.score-table th:nth-child(2),
.score-table td:nth-child(2){
  position: sticky;
  left: var(--col-player);
  width: var(--col-hdcp);
  min-width: var(--col-hdcp);
  max-width: var(--col-hdcp);
  background:#fff;
  z-index: 35;
  box-shadow: 6px 0 0 rgba(148,163,184,.15);
}

/* ===========================
   HOLE COLUMNS (SAFE)
   =========================== */
.score-table th[data-hole],
.score-table td[data-hole]{
  width: var(--col-hole);
  min-width: var(--col-hole);
}

/* ===========================
   TOTALS
   =========================== */
.score-table .tot-col{
  width: var(--col-total);
  min-width: var(--col-total);
  background:#f0fdf4;
  font-weight:700;
}

/* ===========================
   INPUTS
   =========================== */
.score-table input.score-input{
  width: calc(var(--col-hole) - 10px);
  height:30px;
  border-radius:10px;
  border:1px solid rgba(148,163,184,.35);
  text-align:center;
  font-weight:800;
}

.handicap-input{
  width:52px;
  height:30px;
  border-radius:10px;
  border:1px solid rgba(148,163,184,.35);
  text-align:center;
  font-weight:800;
}

/* ===========================
   META ROWS (PAR / SI)
   =========================== */
.meta-row td{
  background:#f8fafc;
  font-weight:700;
}
.meta-row td:first-child{
  text-transform:uppercase;
  letter-spacing:.04em;
}

/* ===========================
   RESPONSIVE
   =========================== */
@media (max-width: 768px){
  main{ padding:1rem; }
}
